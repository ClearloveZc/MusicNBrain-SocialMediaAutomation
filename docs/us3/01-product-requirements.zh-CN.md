# US3 产品需求文档

负责人：Zhenchao  
版本：v1.0  
日期：2026-02-07

## 1. 问题定义

音乐教师在演出推广中会耗费大量时间进行文案编写和多平台发布。  
US3 的目标是提供一条最小可用闭环流程：教师输入演出信息后，系统生成可发布的宣传内容，并在目标平台完成发布。

## 2. 用户故事

作为一名音乐教师，我希望系统自动生成宣传内容并发布到社交媒体，这样我可以在不投入大量营销时间的情况下吸引更多观众。

## 3. US3 MVP 定义

当教师能够在一个流程内完成从活动信息输入到三平台发布，并能查看状态与失败重试时，即视为 US3 MVP 完成。

## 4. 范围

### 4.1 MVP 范围内

1. 活动信息录入（标题、时间、地点、学生亮点、报名链接）。
2. AI 生成海报文案与多平台 caption 草稿。
3. 按音乐会时间线自动建议发布时间。
4. 小红书、TikTok、Instagram 三平台发布适配器。
5. 平台格式模板与内容规范化处理。
6. 发布状态页（成功/失败日志 + 手动重试）。

### 4.2 MVP 范围外

1. 广告投放与预算优化。
2. 多语言自动翻译流水线。
3. 完整受众分析看板。
4. 评论与私信自动回复。

## 5. 功能需求

| ID | 需求描述 | 优先级 |
| --- | --- | --- |
| FR-1 | 教师可根据演出信息创建推广活动。 | P0 |
| FR-2 | 系统可生成至少 1 版海报文案 + 3 版平台 caption。 | P0 |
| FR-3 | 教师可在排程前手动编辑 AI 生成内容。 | P0 |
| FR-4 | 系统自动给出时间线发帖计划（T-7 天、T-3 天、T-1 天）。 | P0 |
| FR-5 | 教师可按平台调整具体发布时间。 | P0 |
| FR-6 | 系统可发布到小红书、TikTok、Instagram。 | P0 |
| FR-7 | 发布前自动应用平台格式模板。 | P0 |
| FR-8 | 系统记录任务状态（`queued`、`running`、`success`、`failed`）。 | P0 |
| FR-9 | 教师可在状态页重试失败任务。 | P1 |
| FR-10 | 系统可保存活动内容资产便于复用。 | P1 |

## 6. 非功能需求

| ID | 需求 |
| --- | --- |
| NFR-1 | 首次配置一场活动到可发布状态应在 5 分钟内完成。 |
| NFR-2 | 排程任务执行时间偏差控制在 +/- 2 分钟。 |
| NFR-3 | 失败任务必须返回可操作的错误信息。 |
| NFR-4 | 代码与日志中不得出现明文密钥。 |

## 7. 验收标准（与启动会对齐）

| AC ID | 验收标准 | 验证方式 |
| --- | --- | --- |
| AC-1 | AI 可根据活动信息生成宣传海报内容。 | 新建活动并执行生成，确认有可编辑海报输出。 |
| AC-2 | 系统可按活动时间线生成发帖计划。 | 检查默认排程与任务队列时间戳。 |
| AC-3 | 支持小红书、TikTok、Instagram。 | 每个平台执行至少 1 个发布任务并观察状态流转。 |
| AC-4 | 内容符合平台格式。 | 对照平台规则矩阵检查最终 payload。 |

## 8. MVP 覆盖用户流程

1. 教师创建推广活动。
2. 系统生成推广内容。
3. 教师审核并编辑。
4. 教师确认排程。
5. 系统执行发布任务。
6. 教师查看状态并重试失败项。

## 9. 成功指标

1. 90% 活动可在一轮配置中完成发布准备，无需开发介入。
2. 三平台首发成功率达到 85% 以上。
3. 100% 失败任务具备明确错误类别与重试动作。

## 10. 风险与缓解

| 风险 | 影响 | 缓解方案 |
| --- | --- | --- |
| 平台 UI/API 变化 | 发布失败率上升 | 适配器抽象 + 快速更新选择器/配置。 |
| 平台限流 | 发布延迟 | 队列退避与重试窗口控制。 |
| AI 内容质量波动 | 宣发质量不稳定 | 发布前保留人工审核环节。 |
| 凭证过期 | 运行时失败 | 发布前凭证有效性检查与过期预警。 |

## 11. 周期计划（建议）

1. 第 1 周：完成产品与设计文档定稿。
2. 第 2 周：加固 TikTok 适配器并抽象通用接口。
3. 第 3 周：完成小红书与 Instagram 适配器基础版与模板。
4. 第 4 周：联调、验收测试与演示材料整理。
