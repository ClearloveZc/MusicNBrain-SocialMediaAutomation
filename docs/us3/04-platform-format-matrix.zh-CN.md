# US3 平台格式适配矩阵

负责人：Zhenchao  
版本：v1.0  
日期：2026-02-07

本矩阵用于定义各平台在发布前的格式化与内容适配规则。

## 1. 平台规则

| 平台 | 媒体重点 | 文案风格 | 话题策略 | CTA 位置 | 说明 |
| --- | --- | --- | --- | --- | --- |
| TikTok | 竖版短视频优先，可选封面 | 短钩子 + 核心卖点 + CTA | 3-5 个标签，兼顾趋势 | 文案结尾 | 复用现有上传器并增加模板层。 |
| 小红书 | 笔记风格，图文或短视频 | 叙事化、细节导向 | 3-8 个标签，意图关键词为主 | 中段或结尾 | 文案应强化场景和细节。 |
| Instagram | Reels 优先，必要时支持 feed | 品牌一致、简洁表达 | 3-8 个标签，品牌+主题组合 | 文案结尾 | 同时支持 Reels 与 feed caption 变体。 |

## 2. 统一内容模型（Normalized Payload）

所有生成内容在进入平台适配器前，统一为：

```json
{
  "headline": "string",
  "body": "string",
  "caption": "string",
  "hashtags": ["string"],
  "cta_text": "string",
  "cta_url": "string"
}
```

平台适配器负责将该模型映射为各平台的最终请求 payload。

## 3. 校验规则

| 规则 ID | 规则说明 |
| --- | --- |
| VR-1 | Caption 不允许为空。 |
| VR-2 | 模板展开后必须至少保留 1 个 hashtag。 |
| VR-3 | 媒体资源未就绪时，任务不能进入 `queued`。 |
| VR-4 | 超过平台长度限制时必须截断并写入告警日志。 |
| VR-5 | 所有出站 payload 必须带 `campaign_id` 以便追踪。 |

## 4. 风格档位（Style Profiles）

| 档位 | 语气 | 场景 |
| --- | --- | --- |
| `teacher_invite` | 温和邀请型 | 常规活动宣发 |
| `student_highlight` | 亮点强调型 | 学生个人展示 |
| `last_call` | 紧迫提醒型 | 活动前最后提醒 |

## 5. 排程预设

| 预设 | 时间点 | 目标 |
| --- | --- | --- |
| `early_awareness` | T-7 天 | 建立初始认知 |
| `engagement_push` | T-3 天 | 拉升兴趣与报名意向 |
| `final_reminder` | T-1 天 | 提升临近转化 |

## 6. 待确认项

1. 各平台最终字符限制与媒体约束，以联调环境实测为准。
2. 各平台是否可通过当前接入路径直接调度发布。
3. 平台原始错误码到系统内部 `error_code` 的映射标准。
